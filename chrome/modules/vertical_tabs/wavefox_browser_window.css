@media -moz-pref("WaveFox.VerticalTabs.WebPage.Floating", 1)
{
    :root:not([inFullscreen], [inDOMFullscreen])
    {
        #browser
        {
            overflow: clip !important;
            margin-block: 0px var(--space-small) !important;
            margin-inline: var(--space-small) !important;
            border-radius: var(--border-radius-medium) !important;
            border: 1px solid var(--chrome-content-separator-color) !important;
            box-shadow: var(--content-area-shadow) !important;
            background-clip: padding-box !important;

            #sidebar-main
            {
                background-color: color-mix(in srgb, var(--toolbar-bgcolor) 75%, transparent) !important;
                background-image: none !important;
                color: var(--toolbar-color) !important;
                border-radius: 0px !important;
                background-clip: padding-box !important;
            }

            #sidebar-launcher-splitter,
            #sidebar-splitter
            {
                width: var(--splitter-width) !important;
                margin-inline: calc(-1 * var(--splitter-width)) 0px !important;
                border: none !important;

                :is(#sidebar-main, #sidebar-box)[sidebar-positionend] + &
                {
                    margin-inline: 0px calc(-1 * var(--splitter-width)) !important;
                }
            }

            #sidebar-box
            {
                clip-path: content-box !important;
                padding: 0px !important;

                #sidebar
                {
                    background-color: color-mix(in srgb, var(--toolbar-bgcolor) 75%, transparent) !important;
                    color: var(--toolbar-color) !important;
                    border-radius: 0px !important;
                }
            }

            #tabbrowser-tabbox
            {
                #tabbrowser-tabpanels
                {
                    clip-path: content-box !important;
                }
            }
        }
    }
}

@media -moz-pref("WaveFox.VerticalTabs.WebPage.Floating", 2)
{
    :root:not([inFullscreen], [inDOMFullscreen])
    {
        #browser
        {
            overflow: clip !important;
            margin-block: 0px var(--space-small) !important;
            margin-inline: var(--space-small) !important;
            border-radius: var(--border-radius-medium) !important;
            border: 1px solid var(--chrome-content-separator-color) !important;
            box-shadow: var(--content-area-shadow) !important;
            background-clip: padding-box !important;

            #sidebar-main
            {
                background-color: color-mix(in srgb, var(--toolbar-bgcolor) 75%, transparent) !important;
                background-image: none !important;
                color: var(--toolbar-color) !important;
                border-radius: 0px !important;
                background-clip: padding-box !important;
            }

            #sidebar-launcher-splitter,
            #sidebar-splitter
            {
                width: var(--splitter-width) !important;
                margin-inline: calc(-1 * var(--splitter-width)) 0px !important;
                border: none !important;

                :is(#sidebar-main, #sidebar-box)[sidebar-positionend] + &
                {
                    margin-inline: 0px calc(-1 * var(--splitter-width)) !important;
                }
            }

            #sidebar-box
            {
                clip-path: content-box !important;
                padding: 0px !important;

                #sidebar
                {
                    background-color: color-mix(in srgb, var(--toolbar-bgcolor) 75%, transparent) !important;
                    color: var(--toolbar-color) !important;
                    border-radius: 0px !important;
                }
            }

            #tabbrowser-tabbox
            {
                outline: none !important;
                box-shadow: none !important;
                background-color: color-mix(in srgb, var(--toolbar-bgcolor) 75%, transparent) !important;
                background-image: none !important;

                #tabbrowser-tabpanels
                {
                    overflow: clip !important;
                    margin: var(--space-small) !important;
                    border-radius: var(--border-radius-medium) !important;
                    border: 1px solid var(--sidebar-border-color) !important;
                    box-shadow: var(--content-area-shadow) !important;
                    background-clip: padding-box !important;
                }
            }
            
            #sidebar-main:not([sidebar-positionend], [hidden]) ~ #tabbrowser-tabbox > #tabbrowser-tabpanels
            {
                margin-inline-start: 0px !important;
            }
            
            #sidebar-main[sidebar-positionend]:not([hidden]) ~ #tabbrowser-tabbox > #tabbrowser-tabpanels
            {
                margin-inline-end: 0px !important;
            }
        }
    }
}

@media -moz-pref("WaveFox.VerticalTabs.WebPage.Floating", 3)
{
    :root:not([inFullscreen], [inDOMFullscreen])
    {
        #browser
        {
            #sidebar-main
            {
                border-radius: 0px !important;
                background-clip: padding-box !important;
            }

            #sidebar-launcher-splitter,
            #sidebar-splitter
            {
                width: var(--splitter-width) !important;
                margin-inline: calc(-1 * var(--splitter-width)) 0px !important;
                border: none !important;

                :is(#sidebar-main, #sidebar-box)[sidebar-positionend] + &
                {
                    margin-inline: 0px calc(-1 * var(--splitter-width)) !important;
                }
            }

            #sidebar-box
            {
                clip-path: content-box !important;
                padding: 0px !important;

                #sidebar
                {
                    background-color: transparent !important;
                    border-radius: 0px !important;
                }
            }

            #tabbrowser-tabbox
            {
                outline: none !important;
                box-shadow: none !important;

                #tabbrowser-tabpanels
                {
                    overflow: clip !important;
                    margin-block: 0px var(--space-small) !important;
                    margin-inline: var(--space-small) !important;
                    border-radius: var(--border-radius-medium) !important;
                    border: 1px solid var(--sidebar-border-color) !important;
                    box-shadow: var(--content-area-shadow) !important;
                    background-clip: padding-box !important;
                }
            }
            
            #sidebar-main:not([sidebar-positionend], [hidden]) ~ #tabbrowser-tabbox > #tabbrowser-tabpanels
            {
                margin-inline-start: 0px !important;
            }
            
            #sidebar-main[sidebar-positionend]:not([hidden]) ~ #tabbrowser-tabbox > #tabbrowser-tabpanels
            {
                margin-inline-end: 0px !important;
            }
        }
    }
}
